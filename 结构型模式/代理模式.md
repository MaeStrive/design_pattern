# 结构型模式——代理模式
# 本质：控制对象访问
## 一、定义
给某一个对象提供一个代理，并由代理对象控制对原对象的引用。
## 二、问题
模拟实现日志记录代理
## 三、解决方案
三个类：很清楚吧；
## 四、代码实现
1、Subject(抽象主题角色)
抽象主题角色声明了真实主题角色和代理主题的共同接口，这样一来在任何适用真实主题角色的地方都可以使用代理主题。客户端需要针对抽象主题角色进行编程。
2、Proxy(代理主题)
代理主题角色内部包含对真实主题的引用，从而可以在任何时候操作真实主题对象。在代理主题角色中提供一个与真实主题角色相同的接口，以便在任何时候可以替代真是主题。
代理主题角色还可以控制对真实主题角色的使用，负责在需要的时候创建和删除真实主题对象，并对真实主题对象加以约束。
代理角色通常在客户端调用所引用的真实主题操作之前或之后还需要执行其他操作，而不仅仅是单纯的调用真实主题对象中的操作。
3、RealSubject(真实主题角色)
真实主题角色定义了代理角色所代表的真实对象，在真实主题角色实现了真实的业务操作，客户端可以通过代理主题角色间接调用真实主题角色中定义的方法
## 五、UML图
![在这里插入图片描述](https://img-blog.csdnimg.cn/e74b78e7e7f54fa9ba9c5d7f749def9c.png#pic_center)
## 六、代理模式适用场景
- 远程代理
- 虚拟代理
- Copy-on-Write 代理
- 保护代理
- 缓冲代理
- 防火墙代理
- 同步化代理
- 智能引用代理
## 七、总结
### 优点
- 代理模式能够协调调用者和被调用者，在一定程度上降低了系统的耦合度。
- 远程代理使得客户端可以访问在远程机器上的对象，远程机器可能具有更好的计算性能与处理速度，可以快速相应并处理客户端请求
- 虚拟代理通过一个小对象代表一个大对象，可以减少系统资源的消耗，对系统进行优化并提供运行速度
- 保护代理可以控制对真实对象的权限
### 缺点
- 由于客户端和真实对象之间增加了代理对象，因此有些类型的代理模式可能会造成请求的处理速度变慢。
- 实现代理模式需要额外的工作，有些代理模式的实现非常复杂。
## 八、与其他模式的关系
