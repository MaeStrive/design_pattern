@[toc]
# 行为模式——命令模式
## 一、定义
将一个请求对象封装为一个对象，从而使我们可用不同的请求对客户进行参数化；对请求排队或者记录请求日志，以及支持可撤销的操作。
## 二、问题

## 三、解决方案

## 四、代码实现
1、抽象命令类(Command)
抽象命令类一般是一个接口，在其中声明了用于执行请求的execute()等方法，通过这些方法可以调用请求接收者的相关操作。
```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:33
 * @Description:
 */
public interface Command {
    void execute();
}

```
2、具体命令类(ConreteCommand)
具体命令类使抽象命令类的子类，实现了抽象命令类中声明的方法，它对应具体的接收者对象，绑定接收者对象的动作。在实现execute()方法时，将调用接收者对象的相关操作。
```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:39
 * @Description:
 */
public class CreateCommand implements Command {
    private final BoardScreen boardScreen;

    public CreateCommand() {
        boardScreen = new BoardScreen();
    }

    @Override
    public void execute() {
        this.boardScreen.create();
    }
}
```

```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:40
 * @Description:
 */
public class EditCommand implements Command {
    private final BoardScreen boardScreen;

    public EditCommand() {
        boardScreen = new BoardScreen();
    }

    @Override
    public void execute() {
        boardScreen.edit();
    }
}

```

```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:34
 * @Description:
 */
public class OpenCommand implements Command {

    private final BoardScreen boardScreen;

    public OpenCommand() {
        boardScreen = new BoardScreen();
    }

    @Override
    public void execute() {
        this.boardScreen.open();
    }
}

```
3、调用者(Invoker)
调用者即请求的发送者，又称请求者，它通过命令对象来执行请求。一个调用者需要在设计时缺点其接收者，因此他只与抽象命令类之间存在关联关系。在程序运行时将调用具体抽象命令对象的execute()方法，间接调用接收者的相关操作
```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:28
 * @Description:
 */
public class MenuItem {
    private final Command command;

    public MenuItem(Command command) {
        this.command = command;
    }

    public void click() {
        command.execute();
    }
}


```
4、接收者(Receiver)
```java
package com.atmae.command;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:37
 * @Description:
 */
public class BoardScreen {
    public void open(){
        System.out.println("打开公告板");
    }

    public void create(){
        System.out.println("新建公告板");
    }

    public void edit(){
        System.out.println("编辑公告板");
    }
}

```
5、客户端(Client)
```java
package com.atmae.command;

import java.util.ArrayList;
import java.util.List;

/**
 * @Author: Mae
 * @Date: 2022/5/26
 * @Time: 9:43
 * @Description:
 */
public class Menu {
    public static void main(String[] args) {
        List<MenuItem> menuItemList = new ArrayList<>();
        Command openCommand = new OpenCommand();
        Command editCommand = new EditCommand();
        MenuItem menuItem = new MenuItem(openCommand);
        MenuItem menuItem1 = new MenuItem(editCommand);
        menuItemList.add(menuItem);
        menuItemList.add(menuItem1);
        for (MenuItem m :
                menuItemList) {
            m.click();
        }
    }
}

```
